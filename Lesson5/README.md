# Разработка мобильных компонент анализа безопасности информационно-аналитических систем

Поспелова Ульяна БИСО-03-20

## Практическая работа №5

### Основы использования аппаратных возможностей мобильных устройств

Создадим новый проект Lesson5.

![1.png](1.png)

Отобразим в виде списка датчиковое оборудование на устройстве. В «activity_main» требуется добавить в файл разметки «ListView».

![2.png](2.png)

Далее отредактируем файл MainActivity.java так, чтобы получить список датчиков и отобразить их в списке.

![3.png](3.png)

![4.png](4.png)

Запустим приложение и увидим список всех поддерживаемых датчиков.

![5.png](5.png)

Для ознакомления с акселерометром создадим новый модуль.

![6.png](6.png)

Пропишем файл MainActivity.java.

![7.png](7.png)

Запустим эмулятор, нажмем 3 точки и перейдем в Virtual sensors.

![8.png](8.png)

Создадим новый модуль «Accelerometer».

![9.png](9.png)

Создадим приложение, отображающее значения акселерометра на главном экране. При вращении устройства значения должны изменяться на главном экране. В файле разметки создадим 3 текстовых поля.

![10.png](10.png)

Реализуем интерфейс «SensorEventListener», а также создадим объект класса «Sensor» в MainActivity.java.

![11.png](11.png)

![12.png](12.png)

Запустим приложение и проверим его работу, а именно изменение значений при отклонении.

![13.png](13.png)

![14.png](14.png)

### Камера

Создадим новый модуль "Camera".

![15.png](15.png)

В папке res создадим новую директорию xml.

![16.png](16.png)

Внутри созданной директории добавим файл paths.xml.

![17.png](17.png)

![18.png](18.png)

Добавляем imageView в activity_main.xml.

![19.png](19.png)

Прописываем разрешения в манифест-файле.

![20.png](20.png)

![21.png](21.png)

Пропишем MainActivity.java.

![22.png](22.png)

Теперь запустим приложение и увидим, что мы на самом деле брокколи.

![23.png](23.png)

Можем сделать фото, сохранить его и увидеть в файловой системе.

![24.png](24.png)

![25.png](25.png)

![26.png](26.png)

![27.png](27.png)

### Микрофон

Создадим новый модуль "AudioRecord".

![28.png](28.png)

Внесем разрешения в манифест-файл.

![29.png](29.png)

В файле разметки необходимо создать две кнопки.

![30.png](30.png)

Далее выполняем все шаги из методички: проверяем разрешения, инициализируем кнопки, обрабатываем нажатия. Заполняем файл MainActivity.java.

![31.png](31.png)

Запускаем эмулятор, нажимаем на 3 точки и даем разрешение на использование микрофона.

![32.png](32.png)

Запускаем наше приложение. 

![33.png](33.png)

Нажимаем начать запись и видим оповещение об использовании микрофона.

![34.png](34.png)

Теперь мы можем остановить запись и воспроизвести её.

![35.png](35.png)

После остановки воспроизведения его можно продолжить.

![36.png](36.png)

### Контрольное задание (ветка mirea_project)

Перейдем в ранее созданный проект MireaProject. Создадим три новых фрагмента.

![37.png](37.png)

![38.png](38.png)

![39.png](39.png)

![40.png](40.png)

![41.png](41.png)

Добавим необходимые разрешения.

![42.png](42.png)

Добавим в MainActivity.java механизм обработки разрешений.

![43.png](43.png)

Запустим приложения и увидим окна получения разрешений.

![44.png](44.png)

![45.png](45.png)

С помощью фрагмента Navigation решим задачу вычисления азимута (угол относительно магнитного севера) с использованием датчиков акселерометра и магнитометра.

![46.png](46.png)

![47.png](47.png)

![48.png](48.png)

![49.png](49.png)

Запускаем приложение и наблюдаем за изменением значения при разном положении устройства.

![50.png](50.png)

![51.png](51.png)

![52.png](52.png)

![53.png](53.png)

Далее опишем фрагмет Camera.

![54.png](54.png)

![55.png](55.png)

![56.png](56.png)

Запустим фрагмент, использующий камеру устройства.

![57.png](57.png)

Далее опишем фрагмет Audio.

![58.png](58.png)

![59.png](59.png)

![60.png](60.png)

![61.png](61.png)

![62.png](62.png)

![63.png](63.png)

Запустим фрагмент, использующий микрофон устройства.

![64.png](64.png)
